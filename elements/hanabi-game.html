<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="hanabi-card.html">
<link rel="import" href="hanabi-player.html">
<link rel="import" href="hanabi-reveal.html">

<dom-module id="hanabi-game">
  <style>

  </style>

  <template>
    <template is="dom-repeat" items="{{players}}">
      <hanabi-player cards="{{item.cards}}"></hanabi-player>
    </template>
    <p>Number of hints left: <span>{{numberOfHints}}</span></p>
    <p>Number of lives left: <span>{{numberOfLives}}</span></p>
  </template>

  <script>
    Polymer({
      is: "hanabi-game",

      properties: {
        numberOfHints: {
          type: Number,
          value: 9
        },
        numberOfLives: {
          type: Number,
          value: 3
        }
      },

      getNumberOfHints: function() {
        return this.numberOfHints;
      },

      spendHint: function() {
        this.set("numberOfHints", this.numberOfHints - 1);
      },

      ready: function() {
        this.players = [
          {},
          {
            cards : [
              {
                color: 'blue',
                value: '3'
              },
              {
                color: 'yellow',
                value: '4'
              },
              {
                color: 'red',
                value: '1'
              },
              {
                color: 'green',
                value: '2'
              }
            ]
          }
        ];
      }
    });
  </script>
</dom-module>
